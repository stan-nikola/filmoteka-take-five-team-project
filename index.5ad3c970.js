function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequired7c6=i),i.register("kyEFX",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("iyB0E",(function(t,n){e(t.exports,"API_KEY",(function(){return o})),e(t.exports,"BASE_URL",(function(){return a})),e(t.exports,"URL_FOR_FETCH_BY_NAME",(function(){return s})),e(t.exports,"MOVIE_POSTER",(function(){return c})),e(t.exports,"FetchMoviesApi",(function(){return l})),e(t.exports,"fetchHomeTrendingMovies",(function(){return d})),e(t.exports,"fetchGenres",(function(){return u})),e(t.exports,"fetchTrailer",(function(){return p})),e(t.exports,"fetchMovies",(function(){return f}));var r=i("lvNHO");const o="62f46feb65c2319fb0db62c2c080ca35",a="https://api.themoviedb.org",s="https://api.themoviedb.org/3/search/movie",c="https://image.tmdb.org/t/p/w500";class l{async fetchTrendingMovies(){try{(0,r.loadStart)();const e=(await fetch(`${a}/3/trending/movie/day?api_key=${o}`)).json();return(0,r.loadStop)(),e}catch(e){console.log(e)}}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}}async function d(){try{(0,r.loadStart)();const e=(await fetch(`${a}/3/trending/movie/day?api_key=${o}`)).json();return(0,r.loadStop)(),e}catch(e){console.log(e)}}async function u(){try{const e=await fetch(`${a}/3/genre/movie/list?api_key=${o}`);return e.json()}catch(e){console.log(e)}}async function p(e){try{const t=await fetch(`${a}/3/movie/${e}/videos?api_key=${o}`);return t.json()}catch(e){console.log(e)}}function f(e){return fetch(`${s}?api_key=${o}&query=${e}`).then((e=>e.json()))}})),i.register("lvNHO",(function(t,n){e(t.exports,"loadStart",(function(){return s})),e(t.exports,"loadStop",(function(){return c}));var r=i("dCvm9");const o=document.querySelector(".js-load-spinner");const a=new(0,r.Spinner)({lines:11,length:64,width:24,radius:67,scale:.35,corners:1,speed:1.6,rotate:0,animation:"spinner-line-shrink",direction:1,color:"#f50000",fadeColor:" #FF6B08",top:"50%",left:"50%",shadow:"box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;",zIndex:2e9,className:"spinner",position:"fixed"});function s(){a.spin(o)}function c(){a.stop()}})),i.register("dCvm9",(function(t,n){e(t.exports,"Spinner",(function(){return i}),(function(e){return i=e}));var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},i=function(){function e(e){void 0===e&&(e={}),this.opts=r(r({},o),e)}return e.prototype.spin=function(e){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),a(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),e&&e.insertBefore(this.el,e.firstChild||null),function(e,t){var n=Math.round(t.corners*t.width*500)/1e3+"px",r="none";!0===t.shadow?r="0 2px 4px #000":"string"==typeof t.shadow&&(r=t.shadow);for(var o=function(e){for(var t=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],r=0,o=e.split(",");r<o.length;r++){var i=o[r].match(t);if(null!==i){var a=+i[2],s=+i[5],c=i[4],l=i[7];0!==a||c||(c=l),0!==s||l||(l=c),c===l&&n.push({prefix:i[1]||"",x:a,y:s,xUnits:c,yUnits:l,end:i[8]})}}return n}(r),i=0;i<t.lines;i++){var l=~~(360/t.lines*i+t.rotate),d=a(document.createElement("div"),{position:"absolute",top:-t.width/2+"px",width:t.length+t.width+"px",height:t.width+"px",background:s(t.fadeColor,i),borderRadius:n,transformOrigin:"left",transform:"rotate("+l+"deg) translateX("+t.radius+"px)"}),u=i*t.direction/t.lines/t.speed;u-=1/t.speed;var p=a(document.createElement("div"),{width:"100%",height:"100%",background:s(t.color,i),borderRadius:n,boxShadow:c(o,l),animation:1/t.speed+"s linear "+u+"s infinite "+t.animation});d.appendChild(p),e.appendChild(d)}}(this.el,this.opts),this},e.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},e}();function a(e,t){for(var n in t)e.style[n]=t[n];return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function c(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r],a=l(i.x,i.y,t);n.push(i.prefix+a[0]+i.xUnits+" "+a[1]+i.yUnits+i.end)}return n.join(", ")}function l(e,t,n){var r=n*Math.PI/180,o=Math.sin(r),i=Math.cos(r);return[Math.round(1e3*(e*i+t*o))/1e3,Math.round(1e3*(-e*o+t*i))/1e3]}})),i.register("7EctF",(function(n,r){e(n.exports,"renderModalFilmCard",(function(){return p})),e(n.exports,"closeModal",(function(){return h}));var o=i("iDSbG"),a=i("iyB0E"),s=i("iO4Cf"),c=i("kORO7"),l=i("lvNHO"),d=i("hYvEI");let u;async function p(e){(0,l.loadStart)(),o.default.body.classList.add("modal-open"),o.default.modalCard.innerHTML="",u=e.target.parentNode.dataset.id;try{const e=await fetch(`${a.BASE_URL}/3/movie/${u}?api_key=${a.API_KEY}`),n=await e.json();let r=n.genres.map((e=>e.name)).join(", "),i=n.popularity,p=Number(n.vote_average.toFixed(1)),h=Number(p.toFixed());p===h&&(p=h);const _=`<div class="modal-card__container-img">\n            <img\n              class="modal-card__current-img current-img-js"\n              src="${a.MOVIE_POSTER}${n.poster_path}"\n              alt="Poster of film "${n.title}"\n              onError="this.src='${t(c)}'"\n            />\n        </div>\n        <div class="modal-card__container-description">\n          <h2 class="modal-card__name-film">${n.title}</h2>\n          <ul class="modal-card__list list">\n            <li class="modal-card__item item">\n              <span>Vote / Votes</span>\n              <p class="item__vote-value">\n                <span class="item__vote-rating">${p}</span>\n                / <span class="item__votes-vews">${n.vote_count}</span>\n              </p>\n            </li>\n            <li class="modal-card__item item">\n              <span>Popularity</span>\n              <p class="item__popularity-value">${i}</p>\n            </li>\n            <li class="modal-card__item">\n              <span>Original Title</span>\n              <p class="item__title-value">\n                ${n.original_title}\n              </p>\n            </li>\n            <li class="modal-card__item item">\n              <span>Genre</span>\n              <p class="item__genre-value">${r}</p>\n            </li>\n          </ul>\n          <h3 class="about about__header">About</h3>\n          <p class="about__description">\n            ${n.overview}\n          </p> \n          <div class="modal-card__container-btn">\n          <button\n            class="btn current-btn btn__watched btn__watched-js" data-id=${u}\n            type="button"\n          >\n            add to Watched\n          </button>\n          <button class="btn btn__queue btn__queue-js" data-id=${u} type="button">\n            add to queue\n          </button>\n        </div>\n        <div class="modal-card__container-video">\n          <button class="btn__trailer__modal__js" data-movieid=${u} type="button">\n           Watch Trailer\n          </button> \n          <p class="info__no__trailer__modal__js" style="display: none;">Sorry No Trailer</p> \n            <div class="modal-card__trailer__video__js">\n             </div>\n        </div>\n        `;o.default.modalCard.insertAdjacentHTML("afterbegin",_),o.default.backdrop.classList.remove("is-hidden"),(0,s.handleLocalStorage)(),(0,d.handleTrailerMovie)(),window.addEventListener("keydown",m),o.default.backdrop.addEventListener("click",f),(0,l.loadStop)()}catch{}}function f(e){e.currentTarget===e.target&&h()}function m(e){e.preventDefault(),"Escape"===e.code&&h()}function h(){o.default.body.classList.remove("modal-open"),o.default.backdrop.classList.add("is-hidden"),window.removeEventListener("keydown",m),o.default.backdrop.removeEventListener("click",f)}})),i.register("iDSbG",(function(t,n){e(t.exports,"default",(function(){return r}));var r={cardLi:document.querySelector(".card-container"),modalCard:document.querySelector(".modal-card__container-content"),modalCardDescr:document.querySelector(".modal-card__container-description"),movieContainer:document.querySelector(".movie-cards-gallery"),backdrop:document.querySelector(".backdrop"),btnClose:document.querySelector(".close-btn-js"),body:document.querySelector("body")}})),i.register("iO4Cf",(function(t,n){e(t.exports,"handleLocalStorage",(function(){return c}));var r=i("iyB0E");let o;async function a(e){let t=[],n=[];o=e.target.dataset.id,console.log(o);const i=await fetch(`${r.BASE_URL}/3/movie/${o}?api_key=${r.API_KEY}`),a=await i.json();if(null===localStorage.getItem("filmsWatched"))return n.push(a),void localStorage.setItem("filmsWatched",JSON.stringify(n));n=JSON.parse(localStorage.getItem("filmsWatched")),n.map((e=>{t.push(e.id)})),t.includes(a.id)||(n.push(a),localStorage.setItem("filmsWatched",JSON.stringify(n)))}async function s(e){let t=[],n=[];o=e.target.dataset.id;const i=await fetch(`${r.BASE_URL}/3/movie/${o}?api_key=${r.API_KEY}`),a=await i.json();if(null===localStorage.getItem("filmsQueue"))n.push(a),localStorage.setItem("filmsQueue",JSON.stringify(n));else{if(n=JSON.parse(localStorage.getItem("filmsQueue")),n.map((e=>{t.push(e.id)})),t.includes(a.id))return;n.push(a),localStorage.setItem("filmsQueue",JSON.stringify(n))}}async function c(){const e=document.querySelector(".btn__watched-js"),t=document.querySelector(".btn__queue-js");e.addEventListener("click",a),t.addEventListener("click",s)}})),i.register("kORO7",(function(e,t){e.exports=new URL(i("kyEFX").resolve("bDTYK"),import.meta.url).toString()})),i.register("hYvEI",(function(t,n){e(t.exports,"handleTrailerMovie",(function(){return a}));var r=i("iyB0E");async function o(e){let t=e.target.dataset.movieid;const n=(await(0,r.fetchTrailer)(t)).results.find((e=>"Official Trailer"===e.name||"Official Trailer [Subtitled]"===e.name)),o=document.querySelector(".modal-card__trailer__video__js"),i=document.querySelector(".btn__trailer__modal__js"),a=document.querySelector(".info__no__trailer__modal__js");if(n){console.log("TRAILER IFRAME IS CREATET");const e=`\n    <div>\n        <iframe width=100 % " height="250" src='https://www.youtube.com/embed/${n.key}'frameborder = "0" allow = "accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen ></iframe >\n    </div>\n      `;return o.insertAdjacentHTML("afterbegin",e),void(i.disabled=!0)}a.style.display="block"}function a(){document.querySelector(".btn__trailer__modal__js").addEventListener("click",o)}})),i("kyEFX").register(JSON.parse('{"7Rh4I":"index.5ad3c970.js","bDTYK":"no-poster_CUT.05bb0fec.jpg"}'));
//# sourceMappingURL=index.5ad3c970.js.map
